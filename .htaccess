# BEGIN Redirect
<IfModule mod_rewrite.c>
RewriteEngine On
RewriteBase /projets/la-chouette-agence/
# BEGIN Redirect from HTTP to HTTPS and from non-www. to www.
RewriteCond %{HTTPS} off [OR]
RewriteCond %{HTTP_HOST} !^www\. [NC]
RewriteRule (.*) https://www.%{HTTP_HOST}%{REQUEST_URI} [L,R=301]
# END Redirect from HTTP to HTTPS and from non-www. to www.
</IfModule>
# END Redirect


# BEGIN Activates GZIP compression
SetOutputFilter DEFLATE
AddOutputFilterByType DEFLATE text/html text/css text/plain text/xml application/x-javascript
# END Activates GZIP compression

# BEGIN Adds old browsers compatibility
BrowserMatch ^Mozilla/4 gzip-only-text/html
BrowserMatch ^Mozilla/4\.0[678] no-gzip
BrowserMatch \bMSIE !no-gzip !gzip-only-text/html
BrowserMatch \bMSI[E] !no-gzip !gzip-only-text/html
# END Adds old browsers compatibility


# BEGIN Cache-Control Headers
<IfModule mod_headers.c>
 <FilesMatch "\.(eot|ttf|otf|woff|woff2)$">
 Header set Cache-Control "max-age=31540000, public"
 </FilesMatch>
 <FilesMatch "\.(ico|jpe?g|png|webp|svg|gif|swf|gz)$">
 Header set Cache-Control "max-age=10510000, public"
 </FilesMatch>
  <FilesMatch "\.(css)$">
  Header set Cache-Control "max-age=2592000, public"
  </FilesMatch>
 <FilesMatch "\.(js)$">
 Header set Cache-Control "max-age=2592000, private"
 </FilesMatch>
<filesMatch "\.(html|htm)$">
Header set Cache-Control "max-age=7200, public"
</filesMatch>
# Disable caching for scripts and other dynamic files
<FilesMatch "\.(pl|php|cgi|spl|scgi|fcgi)$">
Header unset Cache-Control
</FilesMatch>
</IfModule>
# END Cache-Control Headers


# BEGIN Expire headers
<IfModule mod_expires.c>
 ExpiresActive On
 ExpiresDefault "access plus 7200 seconds"
 ExpiresByType image/jpg "access plus 10510000 seconds"
 ExpiresByType image/jpeg "access plus 10510000 seconds"
 ExpiresByType image/png "access plus 10510000 seconds"
 ExpiresByType image/gif "access plus 10510000 seconds"
 ExpiresByType image/webp "access plus 10510000 seconds"
 ExpiresByType image/svg "access plus 10510000 seconds"
 AddType image/x-icon .ico
 ExpiresByType image/ico "access plus 10510000 seconds"
 ExpiresByType image/icon "access plus 10510000 seconds"
 ExpiresByType image/x-icon "access plus 10510000 seconds"
 AddType application/vnd.ms-fontobject .eot
 AddType application/x-font-ttf .ttf
 AddType application/x-font-opentype .otf
 AddType application/x-font-woff .woff
 AddType application/x-font-woff2 .woff2
 ExpiresByType application/vnd.ms-fontobject "access plus 31540000 seconds"
 ExpiresByType application/x-font-ttf "access plus 31540000 seconds"
 ExpiresByType application/x-font-opentype "access plus 31540000 seconds"
 ExpiresByType application/x-font-woff "access plus 31540000 seconds"
 ExpiresByType application/x-font-woff2 "access plus 31540000 seconds"
 ExpiresByType text/css "access plus 2592000 seconds"
 ExpiresByType text/javascript "access plus 2592000 seconds"
 ExpiresByType text/html "access plus 7200 seconds"
 ExpiresByType application/xhtml+xml "access plus 7200 seconds"
 ExpiresByType application/javascript A2592000
 ExpiresByType application/x-javascript "access plus 2592000 seconds"
 ExpiresByType application/x-shockwave-flash "access plus 2592000 seconds"
</IfModule>
# END Expire headers